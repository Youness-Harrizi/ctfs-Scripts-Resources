<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>02-linux  tricks</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>02-linux  tricks</h1><br/><p><strong><h2>Nc transfer files</h2></strong><ul><li>receiving end<ul><li><span style="color:#232323;">nc -l -p 1234 &gt; </span>screen.xwd</li></ul></li><li>sendinf<ul><li><span style="color:#232323;">nc -w 3 10.10.14.217 1234 &lt; </span>./linpeas.log</li></ul></li></ul></p><p></p><p><h2>Socat file transfer</h2><ul><li>sender:<ul><li>sudo socat TCP4-LISTEN:443,fork file:secret_passwords.txt</li></ul></li><li>receiver<ul><li> socat TCP4:10.11.0.4:443 </li></ul></li></ul></p><p></p><p><h2>ssh config</h2></p><p>yoh can set ~/.ssh/config to diretly ssh to server via ssh $host</p><p>    <img src="images/97-1.png" alt="images/97-1.png" /></p><p>    </p><p>    </p><p>    </p><p><h2>ssh private key</h2></p><p></p><p>#!/usr/bin/env bash</p><p></p><p># The hostname of your remote server.</p><p>host=myserver.com</p><p></p><p># Create this folder if it does not exist: ~/.ssh</p><p>mkdir ~/.ssh</p><p></p><p># Set the correct permissions (required)</p><p>chmod 700 ~/.ssh</p><p></p><p># Generate an RSA key pair for identification with the remote server</p><p>ssh-keygen -t rsa</p><p></p><p># Copy your public key to the remote server</p><p>cat ~/.ssh/id_rsa.pub | ssh $host &#39;cat &gt;&gt; ~/.ssh/authorized_keys&#39;</p><p></p><p># ssh is very strict about correct permissions</p><p>ssh $host &#39;chmod g-w,o-w ~; chmod 700 ~/.ssh; chmod 600 ~/.ssh/authorized_keys&#39;</p><p></p><p></p><p></p><p><h2>Enable service on evry reboot</h2></p><p></p><p>update-rc.d &lt;[SERVICE]&gt; enable</p><p></p><p><em><h2>ftp file transfer</h2></em><ul><li>ftp localhost <ul><li>offsec:offsec</li></ul></li><li>installation script </li><li></li></ul><div class="codebox"><pre><span style="color:#0088ff;font-weight:400">#!/bin/bash</span><br /><br />groupadd ftpgroup<br />useradd -g ftpgroup -d /dev/null -s /etc ftpuser<br />pure-pw useradd offsec -u ftpuser -d /ftphome<br />pure-pw mkdb<br /><span style="color:#ff9d00;font-weight:700">cd</span> /etc/pure-ftpd/auth/<br /><span style="color:#ff9d00;font-weight:700">ln</span> -s ../conf/PureDB 60pdb<br /><span style="color:#ff9d00;font-weight:700">mkdir</span> -p /ftphome<br /><span style="color:#ff9d00;font-weight:700">chown</span> -R ftpuser:ftpgroup /ftphome/<br />systemctl restart pure-ftpd<br /></pre></div></p></div>
</body>
</html>
